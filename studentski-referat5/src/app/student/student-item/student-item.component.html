<div class="row">
  <div class="container">
    <h5>Filter:</h5>
    <select name="sel" class="form-select form-select-sm" aria-label="Study program" [(ngModel)]='selectedProgramId'>
      @for(program of programs; track program){
      <option [value]="program.id">{{program.name}}</option>
      }
    </select>
    <button type="button" class="btn btn-primary" (click)="onChange()">Filter</button>
  </div>
  <div class="container">
    <h4>Seznam študentov</h4>
  </div>

  @for (student of students; track $index; let i=$index) {
  <div class="card" style="width: 18rem">
    <img [src]="student.imageUrl" class="card-img-top" alt="..." />
    <div class="card-body">
      <h4 class="card-title">{{ student.name }} {{ student.lastName }}</h4>
      <h5 class="card-title">ID: {{ student.idNumber }}</h5>
      <p class="card-text">Študijski program: {{ getProgramName(student.studyProgram) }}</p>

      <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckChecked"
          (click)="toggleFullTime(i)" [checked]="student.fullTimeStudent" />
        <label class="form-check-label" for="flexSwitchCheckChecked">Full-time student: {{ student.fullTimeStudent
          }}</label>
      </div>

      <div>
        <span>Exams to go: </span>
        <span> {{ student.noOfExamsLeft }} ({{ student.noOfExams }}) </span>
      </div>
    </div>
  </div>
  }

</div>